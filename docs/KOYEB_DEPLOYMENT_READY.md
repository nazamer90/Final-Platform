# โ Koyeb Deployment - ุฌุงูุฒ ูููุดุฑ

## ๐ ุงููููุงุช ุงููุญุฏุซุฉ

### 1. **backend/app.ts** โ๏ธ
- โ ุชู ุฅุถุงูุฉ CORS ูููุทุงูุงุช ุงูุฌุฏูุฏุฉ:
  - `https://ishro.ly`
  - `https://www.ishro.ly`

### 2. **backend/.env.example** โ๏ธ
- โ ุจูุงูุงุช MySQL ูู CPanel:
  - `DB_HOST=102.213.180.22`
  - `DB_USER=ishro_user`
  - `DB_PASSWORD=@Dm1ns$$2025`
  - `DB_NAME=ishroly_u7eundf`
- โ Port: `8000` (ููุชุฌ ุนูู Koyeb)
- โ NODE_ENV: `production`

### 3. **KOYEB_ENVIRONMENT_SETUP.md** โจ (ุฌุฏูุฏ)
- ๐ ุฏููู ุดุงูู ููุชุบูุฑุงุช ุงูุจูุฆุฉ ุนูู Koyeb
- ๐ ุฎุทูุงุช ุงููุดุฑ ูุน ุงุฎุชุจุงุฑุงุช ุงูุชุญูู

### 4. **backend/test-mysql-connection.js** โจ (ุฌุฏูุฏ)
- ๐งช ุงุฎุชุจุงุฑ ุงุชุตุงู MySQL ุณุฑูุน
- ๐งช ุชุดุบูู: `node test-mysql-connection.js`

### 5. **RUN_TESTS.md** โจ (ุฌุฏูุฏ)
- ๐ ุฎุทูุงุช ุงุฎุชุจุงุฑ ุดุงููุฉ
- ๐ ุงุฎุชุจุงุฑ Docker image ูุญููุงู
- ๐ ุฎุทูุงุช ุงููุดุฑ ุนูู Koyeb

---

## ๐ฏ ุงููุณุงุฑ ุงูููุตู ุจู

### ุงููุฑุญูุฉ 1๏ธโฃ: ุงุฎุชุจุงุฑ ูุญูู (ูุจู ุงููุดุฑ)

```bash
# 1. ุงุฎุชุจุฑ ุงูุงุชุตุงู ุจู MySQL
cd backend
node test-mysql-connection.js

# ุชููุน: โ All tests passed!
```

### ุงููุฑุญูุฉ 2๏ธโฃ: ุจูุงุก Docker image

```bash
# 1. ุจูุงุก ุงูุตูุฑุฉ
docker build -t eishro-backend:latest .

# 2. ุชุดุบูู ูุญููุงู
docker run \
  -e DB_HOST=102.213.180.22 \
  -e DB_USER=ishro_user \
  -e DB_PASSWORD=@Dm1ns\$\$2025 \
  -e DB_NAME=ishroly_u7eundf \
  -p 8000:8000 \
  eishro-backend:latest

# 3. ุงุฎุชุจุฑ ูู ูุงูุฐุฉ ุฃุฎุฑู
curl http://localhost:8000/health
```

### ุงููุฑุญูุฉ 3๏ธโฃ: ุงููุดุฑ ุนูู Koyeb

```bash
# 1. ุฃุถู ุงููููุงุช ุงููุญุฏุซุฉ
git add .

# 2. ุฃูุดุฆ commit ูุงุถุญ
git commit -m "
Prepare Koyeb deployment with CPanel MySQL integration

- Add CORS for ishro.ly domain
- Update .env.example with CPanel credentials
- Add MySQL connection test script
- Add comprehensive deployment guide
"

# 3. ุงุฏูุน ุฅูู GitHub
git push origin main

# 4. ุชุญูู ูู ุงููุดุฑ ุนูู Koyeb
curl https://eishro-backend-xxxx.koyeb.app/health
```

### ุงููุฑุญูุฉ 4๏ธโฃ: ุชุนุฏูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุนูู Koyeb

ูู ููุญุฉ Koyeb:
1. ุฎุฏูุฉ โ ุงูุฅุนุฏุงุฏุงุช โ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
2. ุฃุถู ูู ูุชุบูุฑ ูู `KOYEB_ENVIRONMENT_SETUP.md`
3. ุงุญูุธ ุงูุชุบููุฑุงุช

---

## โจ ุงูููุงุท ุงููููุฉ

### โ ุชู ุฅุตูุงุญู:
1. โ `/health` endpoint ููุฌูุฏ ุจุงููุนู
2. โ CORS ุฌุงูุฒ ูููุทุงูุงุช ุงูุฌุฏูุฏุฉ
3. โ ุจูุงูุงุช MySQL ูู CPanel ูุญุฏุซุฉ
4. โ Docker configuration ุตุญูุญ
5. โ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ููุซูุฉ ุจุงููุงูู

### โ๏ธ ููุงุญุธุงุช ุญุณุงุณุฉ:
1. **ูููุฉ ุงููุฑูุฑ ุชุญุชูู ุนูู ุฃุญุฑู ุฎุงุตุฉ**: `@Dm1ns$$2025`
   - ูู Docker: `@Dm1ns\$\$2025` (ูุฑูุจ ุงูู $)
   - ูู Koyeb: `@Dm1ns$$2025` (ููุง ูู)

2. **ุงูุงุชุตุงู ุจู MySQL**:
   - IP: `102.213.180.22`
   - ูุฌุจ ุฃู ูููู ูุงุจูุงู ูููุตูู ูู ุฎูุงุฏู Koyeb
   - ูุฏ ุชุญุชุงุฌ ุฅูู ุชูุนูู ุงูุงุชุตุงูุงุช ุงูุฎุงุฑุฌูุฉ ูู CPanel

3. **ุงูู Health Check**:
   - ูุนูู ุนูู: `http://localhost:8000/health`
   - ูู Koyeb: `https://eishro-backend-xxxx.koyeb.app/health`

---

## ๐ ุงูุชุณูุณู ุงูููุตู ุจู

```
1. โ ุงุฎุชุจุฑ MySQL ูุญููุงู (test-mysql-connection.js)
2. โ ุจูุงุก Docker image
3. โ ุงุฎุชุจุฑ ุงูุญุงููุฉ ูุญููุงู
4. โ ุงุฏูุน ุฅูู GitHub
5. โ ุฃุถู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุนูู Koyeb
6. โ ุฑุงูุจ ุงูุณุฌูุงุช (Logs) ุญุชู ุงููุดุฑ ุงููุงูู
7. โ ุงุฎุชุจุฑ Health Check
8. โ ุงุฎุชุจุฑ ุงูุงุชุตุงู ุจู API
```

---

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ุฅุฐุง ูุดู ุงุชุตุงู MySQL:
- ุชุญูู ูู ุฌุฏุงุฑ ุงูุญูุงูุฉ ูู CPanel
- ุชุฃูุฏ ูู ุฃู IP ุงูุฎุงุฏู ูุณููุญ ุจู
- ุฌุฑุจ ุงุชุตุงู ูุญูู ุฃููุงู

### ุฅุฐุง ูุดู Health Check ุนูู Koyeb:
- ุชุญูู ูู ุงูุณุฌูุงุช ูู Koyeb
- ุชุฃูุฏ ูู ูุฌูุฏ ุฌููุน ูุชุบูุฑุงุช ุงูุจูุฆุฉ
- ุชุญูู ูู ุงูุงุชุตุงู ุจู MySQL

### ุฅุฐุง ูุงูุช ููุงู ูุดุงูู ูู ุงููุดุฑ:
- ุงุฑุฌุน ุฅูู `KOYEB_ENVIRONMENT_SETUP.md`
- ุฑูุฒ ุนูู ุตุญุฉ ุงูุจูุงูุงุช
- ุงุณุชุฎุฏู ุงุฎุชุจุงุฑุงุช ุงููุญุทุฉ ุงูุฃููู

---

## ๐ ุงูุชุงูู: Vercel + ishro.ly

ุจุนุฏ ูุฌุงุญ Koyeb Backend:
1. ุฅุนุฏุงุฏ ุงููุฑููุชูุฏ ุนูู Vercel
2. ุฑุจุท ุงููุทุงู ishro.ly
3. ุงูุงุฎุชุจุงุฑ ุงูุดุงูู

ุงูุธุฑ ุฅูู `VERCEL_SETUP.md` ููุชูุงุตูู ุงููุงููุฉ.
