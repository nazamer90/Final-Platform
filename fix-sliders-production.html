<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø±Ø² - Supabase Direct Fix</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; background: white; border-radius: 20px; padding: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
        h1 { color: #2d3748; margin-bottom: 10px; font-size: 2rem; }
        .subtitle { color: #718096; margin-bottom: 30px; font-size: 1.1rem; }
        .input-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: 600; color: #4a5568; }
        input { width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 0.95rem; transition: all 0.3s; }
        input:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }
        button { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 14px 28px; border-radius: 8px; cursor: pointer; font-size: 1rem; font-weight: bold; transition: all 0.3s; width: 100%; margin-top: 10px; }
        button:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4); }
        button:disabled { opacity: 0.6; cursor: not-allowed; }
        .status { margin-top: 20px; padding: 15px; border-radius: 8px; display: none; }
        .status.show { display: block; }
        .success { background: #c6f6d5; border: 2px solid #38a169; color: #22543d; }
        .error { background: #fed7d7; border: 2px solid #e53e3e; color: #742a2a; }
        .info { background: #bee3f8; border: 2px solid #3182ce; color: #2c5282; }
        .stores-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 20px; }
        .store-card { background: #f7fafc; padding: 15px; border-radius: 10px; border: 2px solid #e2e8f0; }
        .store-card h3 { color: #2d3748; margin-bottom: 5px; font-size: 1.1rem; }
        .store-card p { color: #718096; font-size: 0.9rem; margin-bottom: 10px; }
        .store-card button { padding: 8px 16px; font-size: 0.9rem; margin-top: 5px; }
        code { background: #edf2f7; padding: 2px 6px; border-radius: 4px; font-family: 'Courier New', monospace; color: #d69e2e; font-size: 0.9rem; }
        .warning { background: #fefcbf; border: 2px solid #d69e2e; color: #744210; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
        .log { background: #1a202c; color: #68d391; padding: 15px; border-radius: 8px; font-family: monospace; font-size: 0.85rem; max-height: 300px; overflow-y: auto; margin-top: 15px; display: none; }
        .log.show { display: block; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ› ï¸ Ø¥ØµÙ„Ø§Ø­ Ø³Ù„Ø§ÙŠØ¯Ø±Ø² Ø§Ù„Ù…ØªØ§Ø¬Ø± - Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ù„Ù‰ Supabase</h1>
        <p class="subtitle">Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© Ø³ØªØµÙ„Ø­ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙˆØ± ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Supabase Ù…Ø¨Ø§Ø´Ø±Ø©</p>

        <div class="warning">
            âš ï¸ <strong>Ù…Ù‡Ù…:</strong> Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ <code>SUPABASE_SERVICE_ROLE_KEY</code> Ù…Ù†:<br>
            https://supabase.com/dashboard/project/wbakbuqvdbmweujkbzxn/settings/api
        </div>

        <div class="input-group">
            <label for="supabaseUrl">Supabase URL</label>
            <input type="text" id="supabaseUrl" value="https://wbakbuqvdbmweujkbzxn.supabase.co" readonly>
        </div>

        <div class="input-group">
            <label for="supabaseKey">Supabase Service Role Key (Ø£Ø¯Ø®Ù„Ù‡ Ù‡Ù†Ø§)</label>
            <input type="password" id="supabaseKey" placeholder="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...">
        </div>

        <button onclick="fixAllSliders()">ğŸš€ Ø¥ØµÙ„Ø§Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ø¢Ù†</button>

        <div class="stores-grid" id="storesGrid" style="display: none;"></div>

        <div id="status" class="status"></div>
        <div id="log" class="log"></div>
    </div>

    <script>
        const CORRECT_SLIDERS = {
            'delta-store': [
                { title: 'Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø£ÙˆØ´Ø­Ø© Ø§Ù„ÙØ§Ø®Ø±Ø©', subtitle: 'Ø£Ù†Ø§Ù‚Ø© Ù„Ø§ ØªØ¶Ø§Ù‡Ù‰', buttonText: 'ØªØ³ÙˆÙ‚ÙŠ Ø§Ù„Ø¢Ù†', imagePath: '/assets/delta-store/sliders/slider1.webp', sortOrder: 0, isActive: true },
                { title: 'Ø­Ø¬Ø§Ø¨ Ø£Ù†ÙŠÙ‚ ÙˆØ¹ØµØ±ÙŠ', subtitle: 'Ù„ÙƒÙ„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª', buttonText: 'Ø§ÙƒØªØ´ÙÙŠ Ø§Ù„Ù…Ø²ÙŠØ¯', imagePath: '/assets/delta-store/sliders/slider2.webp', sortOrder: 1, isActive: true },
                { title: 'Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª Ø­Ø¬Ø§Ø¨ Ù…Ù…ÙŠØ²Ø©', subtitle: 'Ù„Ù…Ø³Ø© Ø¬Ù…Ø§Ù„ÙŠØ©', buttonText: 'Ø´Ø§Ù‡Ø¯ÙŠ Ø§Ù„ØªØ´ÙƒÙŠÙ„Ø©', imagePath: '/assets/delta-store/sliders/slider3.webp', sortOrder: 2, isActive: true },
                { title: 'Ù…Ù„Ø§Ø¨Ø³ Ù†Ø³Ø§Ø¦ÙŠØ© Ø£Ù†ÙŠÙ‚Ø©', subtitle: 'Ø£Ø­Ø¯Ø« Ø§Ù„ØµÙŠØ­Ø§Øª', buttonText: 'ØªØ³ÙˆÙ‚ÙŠ Ø§Ù„Ø¢Ù†', imagePath: '/assets/delta-store/sliders/slider4.webp', sortOrder: 3, isActive: true },
                { title: 'ØªØ´ÙƒÙŠÙ„Ø© ØµÙŠÙÙŠØ© Ù…Ù…ÙŠØ²Ø©', subtitle: 'Ø®Ø§Ù…Ø© Ù…Ø±ÙŠØ­Ø©', buttonText: 'Ø§Ø¨Ø¯Ø¦ÙŠ Ø§Ù„ØªØ³ÙˆÙ‚', imagePath: '/assets/delta-store/sliders/slider5.webp', sortOrder: 4, isActive: true },
                { title: 'Ø£Ø­Ø¯Ø« ØµÙŠØ­Ø§Øª Ø§Ù„Ù…ÙˆØ¶Ø©', subtitle: 'ØªØ£Ù„Ù‚ÙŠ Ù…Ø¹Ù†Ø§', buttonText: 'Ø§ÙƒØªØ´ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©', imagePath: '/assets/delta-store/sliders/slider6.webp', sortOrder: 5, isActive: true }
            ],
            'magna-beauty': [
                { title: 'Ù…ÙƒÙŠØ§Ø¬ Ø¹ØµØ±ÙŠ Ø£Ù†ÙŠÙ‚', subtitle: 'Ø¬Ù…Ø§Ù„Ùƒ ÙŠØ³ØªØ­Ù‚', buttonText: 'ØªØ³ÙˆÙ‚ÙŠ Ø§Ù„Ø¢Ù†', imagePath: '/assets/magna-beauty/sliders/slide1.webp', sortOrder: 0, isActive: true },
                { title: 'Ø±Ù…ÙˆØ´ Ø£Ù†ÙŠÙ‚Ø© ÙˆØ¹ØµØ±ÙŠØ©', subtitle: 'Ù†Ø¸Ø±Ø© Ø³Ø§Ø­Ø±Ø©', buttonText: 'Ø§ÙƒØªØ´ÙÙŠ Ø§Ù„Ù…Ø²ÙŠØ¯', imagePath: '/assets/magna-beauty/sliders/slide2.webp', sortOrder: 1, isActive: true },
                { title: 'Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª Ù…Ù…ÙŠØ²Ø©', subtitle: 'ØªÙƒÙ…Ù„ Ø£Ù†Ø§Ù‚ØªÙƒ', buttonText: 'Ø´Ø§Ù‡Ø¯ÙŠ Ø§Ù„ØªØ´ÙƒÙŠÙ„Ø©', imagePath: '/assets/magna-beauty/sliders/slide3.webp', sortOrder: 2, isActive: true },
                { title: 'Ø¹Ù†Ø§ÙŠØ© ÙØ§Ø¦Ù‚Ø© Ø¨Ø§Ù„Ø¨Ø´Ø±Ø©', subtitle: 'Ø¥Ø´Ø±Ø§Ù‚Ø© Ø¯Ø§Ø¦Ù…Ø©', buttonText: 'Ø§Ø³ØªÙƒØ´ÙÙŠ', imagePath: '/assets/magna-beauty/sliders/slide4.webp', sortOrder: 3, isActive: true },
                { title: 'ØªØ´ÙƒÙŠÙ„Ø© Ø¹ØµØ±ÙŠØ© Ù…Ù…ÙŠØ²Ø©', subtitle: 'Ù„Ø¥Ø·Ù„Ø§Ù„Ø© Ø®Ù„Ø§Ø¨Ø©', buttonText: 'Ø§Ø¨Ø¯Ø¦ÙŠ Ø§Ù„ØªØ³ÙˆÙ‚', imagePath: '/assets/magna-beauty/sliders/slide5.webp', sortOrder: 4, isActive: true }
            ],
            'nawaem': [
                { title: 'Ø§ÙƒØªØ´Ù ØªØ´ÙƒÙŠÙ„Ø© Ù†ÙˆØ§Ø¹Ù… Ø§Ù„Ø­ØµØ±ÙŠØ©', subtitle: 'Ø£Ø­Ø¯Ø« Ø§Ù„Ø£Ø²ÙŠØ§Ø¡ ÙˆØ§Ù„Ø¹Ø¨Ø§ÙŠØ§Øª Ø§Ù„Ø±Ø§Ù‚ÙŠØ©', buttonText: 'ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†', imagePath: '/assets/nawaem/sliders/slider2.jpg', sortOrder: 0, isActive: true },
                { title: 'Ø¹Ø±ÙˆØ¶ Ø­ØµØ±ÙŠØ© Ù…Ù† Ù†ÙˆØ§Ø¹Ù…', subtitle: 'Ù„Ø§ ØªÙÙˆØª Ø§Ù„ÙØ±ØµØ© - Ø¹Ø±ÙˆØ¶ Ù…Ø­Ø¯ÙˆØ¯Ø©', buttonText: 'Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø¹Ø±ÙˆØ¶', imagePath: '/assets/nawaem/sliders/abaya3.jpg', sortOrder: 1, isActive: true },
                { title: 'Ø­Ù‚Ø§Ø¦Ø¨ ÙŠØ¯ ÙØ§Ø®Ø±Ø©', subtitle: 'Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ø§Ø±ÙƒØ§Øª', buttonText: 'Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø¹Ø±ÙˆØ¶', imagePath: '/assets/nawaem/sliders/bag2.jpg', sortOrder: 2, isActive: true },
                { title: 'Ø­Ù‚Ø§Ø¦Ø¨ Ø¹ØµØ±ÙŠØ© Ù…Ù…ÙŠØ²Ø©', subtitle: 'Ø£Ù„ÙˆØ§Ù† Ø¬Ø°Ø§Ø¨Ø©', buttonText: 'Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø¹Ø±ÙˆØ¶', imagePath: '/assets/nawaem/sliders/bag3-green.jpg', sortOrder: 3, isActive: true },
                { title: 'ÙØ³Ø§ØªÙŠÙ† Ø£Ù†ÙŠÙ‚Ø©', subtitle: 'Ù„ÙƒÙ„ Ù…Ù†Ø§Ø³Ø¨Ø© Ø®Ø§ØµØ©', buttonText: 'Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø¹Ø±ÙˆØ¶', imagePath: '/assets/nawaem/sliders/dress3.jpg', sortOrder: 4, isActive: true },
                { title: 'Ø­Ù‚Ø§Ø¦Ø¨ ÙØ®Ù…Ø©', subtitle: 'ØªØµØ§Ù…ÙŠÙ… Ø±Ø§Ù‚ÙŠØ©', buttonText: 'Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø¹Ø±ÙˆØ¶', imagePath: '/assets/nawaem/sliders/handbag-black-1.jpg', sortOrder: 5, isActive: true }
            ],
            'pretty': [
                { title: 'Ø£Ù†Ø§Ù‚Ø© Pretty', subtitle: 'Ø§ÙƒØªØ´ÙÙŠ Ø£Ø­Ø¯Ø« Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ø£Ø²ÙŠØ§Ø¡', buttonText: 'ØªØ³ÙˆÙ‚ÙŠ Ø§Ù„Ø¢Ù†', imagePath: '/assets/pretty/sliders/slider10.webp', sortOrder: 0, isActive: true },
                { title: 'Ø¹Ø±ÙˆØ¶ Pretty', subtitle: 'ØªØ®ÙÙŠØ¶Ø§Øª ÙƒØ¨ÙŠØ±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©', buttonText: 'Ø§Ø¹Ø±Ø¶ÙŠ Ø§Ù„Ø¢Ù†', imagePath: '/assets/pretty/sliders/slider11.webp', sortOrder: 1, isActive: true },
                { title: 'Ø®ØµÙˆÙ…Ø§Øª Pretty Ø§Ù„Ø­ØµØ±ÙŠØ©', subtitle: 'Ø§Ø®ØªØ§Ø±ÙŠ Ù…Ù† Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø²ÙŠØ§Ø¡', buttonText: 'Ø§Ø³ØªÙ…ØªØ¹ÙŠ Ø¨Ø§Ù„Ø¹Ø±ÙˆØ¶', imagePath: '/assets/pretty/sliders/slider12.webp', sortOrder: 2, isActive: true },
                { title: 'Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Pretty', subtitle: 'Ø£Ø­Ø¯Ø« ØµÙŠØ­Ø§Øª Ø§Ù„Ù…ÙˆØ¶Ø©', buttonText: 'ØªØ¹Ø±ÙÙŠ Ø¹Ù„ÙŠÙ‡Ø§', imagePath: '/assets/pretty/sliders/slider14.webp', sortOrder: 3, isActive: true },
                { title: 'Pretty - Ø¹Ø§Ù„Ù… Ø§Ù„Ø£Ù†Ø§Ù‚Ø©', subtitle: 'Ù…Ù„Ø§Ø¨Ø³ ÙˆØ¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª Ø¨Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©', buttonText: 'Ø§Ø¨Ø¯Ø£ÙŠ Ø§Ù„ØªØ³ÙˆÙ‚', imagePath: '/assets/pretty/sliders/slider13.webp', sortOrder: 4, isActive: true }
            ],
            'sherine': [
                { title: 'Ù…Ø¬ÙˆÙ‡Ø±Ø§Øª Ø´ÙŠØ±ÙŠÙ† Ø§Ù„ÙØ§Ø®Ø±Ø©', subtitle: 'ØªØ£Ù„Ù‚ÙŠ Ø¨Ø£Ø¬Ù…Ù„ Ø§Ù„Ù…Ø¬ÙˆÙ‡Ø±Ø§Øª ÙˆØ§Ù„Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª', buttonText: 'Ø§Ø³ØªÙƒØ´ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©', imagePath: '/assets/sherine/sliders/slider1.webp', sortOrder: 0, isActive: true },
                { title: 'Ø¹Ø±ÙˆØ¶ Ø®Ø§ØµØ© Ù…Ù† Ø´ÙŠØ±ÙŠÙ†', subtitle: 'Ø£Ø¬Ù…Ù„ Ø§Ù„Ù…Ø¬ÙˆÙ‡Ø±Ø§Øª Ø¨Ø£Ø³Ø¹Ø§Ø± Ù…Ù…ÙŠØ²Ø©', buttonText: 'Ø§Ø·Ù„Ø¹ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø±ÙˆØ¶', imagePath: '/assets/sherine/sliders/slider2.jpg', sortOrder: 1, isActive: true },
                { title: 'Ø£Ù†Ø§Ù‚Ø© ÙˆØªØ£Ù„Ù‚ Ù…Ù† Ø´ÙŠØ±ÙŠÙ†', subtitle: 'Ø£Ø¬Ù…Ù„ Ø§Ù„Ù…Ø¬ÙˆÙ‡Ø±Ø§Øª Ø¨Ø£Ø³Ø¹Ø§Ø± Ù…Ù…ÙŠØ²Ø©', buttonText: 'Ø§ÙƒØªØ´Ù Ø£Ø³Ø¹Ø§Ø±Ù†Ø§', imagePath: '/assets/sherine/sliders/slider3.webp', sortOrder: 2, isActive: true },
                { title: 'Ø¹Ø±ÙˆØ¶ Ø®Ø§ØµØ© Ù…Ù† Ø´ÙŠØ±ÙŠÙ†', subtitle: 'Ø£Ø¬Ù…Ù„ Ø§Ù„Ù…Ø¬ÙˆÙ‡Ø±Ø§Øª Ø¨Ø£Ø³Ø¹Ø§Ø± Ù…Ù…ÙŠØ²Ø©', buttonText: 'Ø£Ù†Ø§Ù‚Ø© Ù„Ø§ Ù…Ø«ÙŠÙ„ Ù„Ù‡Ø§', imagePath: '/assets/sherine/sliders/slider4.webp', sortOrder: 3, isActive: true }
            ]
        };

        let supabase = null;

        async function fixAllSliders() {
            const supabaseUrl = document.getElementById('supabaseUrl').value.trim();
            const supabaseKey = document.getElementById('supabaseKey').value.trim();
            const statusDiv = document.getElementById('status');
            const logDiv = document.getElementById('log');
            const btn = event.target;

            if (!supabaseKey) {
                showStatus('error', 'âŒ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Supabase Service Role Key Ø£ÙˆÙ„Ø§Ù‹!');
                return;
            }

            btn.disabled = true;
            btn.textContent = 'â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥ØµÙ„Ø§Ø­...';
            logDiv.classList.add('show');
            logDiv.innerHTML = '';

            try {
                // Initialize Supabase client
                supabase = window.supabase.createClient(supabaseUrl, supabaseKey);
                log('âœ… ØªÙ… Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Supabase Ø¨Ù†Ø¬Ø§Ø­');

                // 1. Get all stores
                log('\nğŸ“¦ Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…ØªØ§Ø¬Ø± Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...');
                const { data: stores, error: storesError } = await supabase
                    .from('stores')
                    .select('id, slug, name')
                    .in('slug', ['delta-store', 'magna-beauty', 'nawaem', 'pretty', 'sherine']);

                if (storesError) throw new Error(`Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…ØªØ§Ø¬Ø±: ${storesError.message}`);

                log(`   ÙˆÙØ¬Ø¯ ${stores.length} Ù…ØªØ§Ø¬Ø±:`);
                stores.forEach(s => log(`   - ${s.name} (${s.slug}) [ID: ${s.id}]`));

                let totalFixed = 0;
                let totalSliders = 0;

                // 2. Fix each store
                for (const store of stores) {
                    const sliderData = CORRECT_SLIDERS[store.slug];
                    
                    if (!sliderData) {
                        log(`\nâš ï¸  Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù€ '${store.slug}', ØªØ®Ø·ÙŠ...`);
                        continue;
                    }

                    log(`\nğŸ”§ Ø¥ØµÙ„Ø§Ø­ '${store.name}' (${store.slug})...`);

                    // Delete old sliders
                    const { error: deleteError, count: deletedCount } = await supabase
                        .from('store_sliders')
                        .delete({ count: 'exact' })
                        .eq('storeId', store.id);

                    if (deleteError) {
                        log(`   âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­Ø°Ù: ${deleteError.message}`);
                        continue;
                    }

                    log(`   ğŸ—‘ï¸  ØªÙ… Ø­Ø°Ù ${deletedCount || 0} Ø³Ù„Ø§ÙŠØ¯Ø± Ù‚Ø¯ÙŠÙ…`);

                    // Insert new sliders
                    const slidersToInsert = sliderData.map(slider => ({
                        storeId: store.id,
                        title: slider.title,
                        subtitle: slider.subtitle,
                        buttonText: slider.buttonText,
                        imagePath: slider.imagePath,
                        sortOrder: slider.sortOrder,
                        metadata: { isActive: slider.isActive, fixedAt: new Date().toISOString() }
                    }));

                    const { data: inserted, error: insertError } = await supabase
                        .from('store_sliders')
                        .insert(slidersToInsert)
                        .select();

                    if (insertError) {
                        log(`   âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø¶Ø§ÙØ©: ${insertError.message}`);
                        continue;
                    }

                    log(`   âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ${inserted.length} Ø³Ù„Ø§ÙŠØ¯Ø± Ø¬Ø¯ÙŠØ¯`);
                    totalFixed++;
                    totalSliders += inserted.length;
                }

                log(`\nâœ… ØªÙ… Ø§Ù„Ø¥ØµÙ„Ø§Ø­ Ø¨Ù†Ø¬Ø§Ø­!`);
                log(`   ğŸ“Š Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù…ØµÙ„Ø­Ø©: ${totalFixed}`);
                log(`   ğŸ–¼ï¸  Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø±Ø² Ø§Ù„Ù…Ø¶Ø§ÙØ©: ${totalSliders}`);

                showStatus('success', `
                    âœ… ØªÙ… Ø¥ØµÙ„Ø§Ø­ ${totalFixed} Ù…ØªØ§Ø¬Ø± Ø¨Ù†Ø¬Ø§Ø­! (${totalSliders} ØµÙˆØ±Ø©)<br><br>
                    <strong>Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ©:</strong><br>
                    1. Ø§Ù…Ø³Ø­ Ø§Ù„ÙƒØ§Ø´: Ctrl+Shift+Del (Chrome) Ø£Ùˆ Ctrl+F5<br>
                    2. Ø§ÙØªØ­ Ø§Ù„Ù…ØªØ§Ø¬Ø±:<br>
                       â€¢ <a href="https://ishro.ly/delta-store" target="_blank">Delta Store</a><br>
                       â€¢ <a href="https://ishro.ly/magna-beauty" target="_blank">Magna Beauty</a><br>
                       â€¢ <a href="https://ishro.ly/nawaem" target="_blank">Nawaem</a><br>
                       â€¢ <a href="https://ishro.ly/pretty" target="_blank">Pretty</a><br>
                    3. ØªØ­Ù‚Ù‚ Ù…Ù† Ø¸Ù‡ÙˆØ± Ø§Ù„ØµÙˆØ± âœ¨
                `);

            } catch (error) {
                log(`\nğŸ’¥ Ø®Ø·Ø£ ÙØ§Ø¯Ø­: ${error.message}`);
                showStatus('error', `âŒ Ø­Ø¯Ø« Ø®Ø·Ø£: ${error.message}<br><br>ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Service Role Key!`);
            } finally {
                btn.disabled = false;
                btn.textContent = 'ğŸš€ Ø¥ØµÙ„Ø§Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ø¢Ù†';
            }
        }

        function showStatus(type, message) {
            const statusDiv = document.getElementById('status');
            statusDiv.className = `status show ${type}`;
            statusDiv.innerHTML = message;
        }

        function log(message) {
            const logDiv = document.getElementById('log');
            logDiv.innerHTML += message + '\n';
            logDiv.scrollTop = logDiv.scrollHeight;
        }
    </script>
</body>
</html>
